<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Classes</title>
  </head>
  <body>
    <script>
      //CLASSES ARE A DIFFERENT (NEWER) METHOD TO DO WHAT WE DID IN PREVIOUS LESSON (PROTOTYPES)
      //UNLIKE FUNCTIONS, CLASSES HAVE TO BE DEFINED FIRST, BEFORE THE VARIABLES !!!

      class Car {
        constructor(make, model, weight, color) {
          this.make = make;
          this.model = model;
          this._weight = weight;
          this.color = color;
        }

        get name() {
          return this.make + " " + this.model;
        }

        set weight(weight) {
          if (!isNaN(weight)) {
            this._weight = weight;
          } else {
            throw new TypeError("The value of weight has to be a number.");
          }
        }

        get weight() {
          return this._weight + " kg.";
        }

        static kwToHp(kw) {
          return (kw * 1.34102).toFixed(2);
        }

        getInfo() {
          return (
            "Make: " +
            this.make +
            "\n" +
            "Model: " +
            this.model +
            "\n" +
            "Weight: " +
            this.weight +
            "\n" +
            "Color: " +
            this.color +
            "\n"
          );
        }
      }

      var car1 = new Car("Subaru", "Legacy", 1563, "black");
      var car2 = new Car("Ford", "Taurus", 1293, "red");
      var car3 = new Car("Audi", "Quattro", 1132, "silver");

      car1.weight = 1900;
      // car1.weight = 'ejdhs';

      console.log(car3.info);
      console.log(car1.weight);

      console.log(Car.kwToHp(150)); // STATIC CAN ONLY BE APPEALED ON THE OBJECT IT IS PART OF,
      //not on instances like car1 !!!

      class Convertible extends Car {
        constructor(make, model, weight, color, roofType) {
          super(make, model, weight, color);
          this.roofType = roofType;
        }

        getInfo() {
          return super.getInfo() + '\n' +
          'Roof type: ' + this.roofType;
        }
      }

      let convertible1 = new Convertible('Honda', 'S200', 1232, 'red', 'vinyl');
      console.log(convertible1.roofType);
      console.log(convertible1.getInfo());

      class Pickup extends Car {
        constructor (make, model, weight, color, cargoVolume) {
          super(make, model, weight, color);
          this.cargoVolume = cargoVolume;
        }
        getInfo() {
          return super.getInfo() + '\n' +
          'Cargo volume: ' + this.cargoVolume;
        }
      }

    let pickup1 = new Pickup ('Ford', 'F-150', 2500, 'black', 657);
    console.log(pickup1.getInfo());
    console.log(pickup1.name);
    </script>
  </body>
</html>
